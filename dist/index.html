<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../src/output.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <style>
        /* Custom utility to hide scrollbars while keeping scrolling enabled */
        .scrollbar-hidden {
            scrollbar-width: none; /* Firefox */
        }

        .scrollbar-hidden::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
        }
    </style>
</head>
<body>
   <header class="flex  bg-indigo-400 h-[70px] justify-around items-center">
    <img src="téléchargement-removebg-preview.png" alt="" class="h-11">
    <h1 class=" w-[370px] text-[24px] font-bold">TO DO List</h1>
    <div class="flex items-center w-full sm:w-[600px] bg-white h-[40px] rounded-[20px] px-3">
        <i class="fa-solid fa-magnifying-glass text-gray-500 mr-2"></i>
        <input type="text" placeholder="search" class="w-full h-full outline-none">
    </div>
   </header>
   <section>
    <div class=" h-screen grid grid-cols-[400px_1fr] ">
        <div class="bg-indigo-700 ">
            <div class="top">
                <div class="bg-indigo-500 flex justify-between items-center mt-2 h-11 rounded mr-3 ml-3">
                    <h3 class="text-lg pl-7">Menu</h3>
                    <i class="fa-solid fa-ellipsis pr-8"></i>
                </div>

                <h4 class="mt-3 pl-3 text-lg">tasks</h4>
                <div class="ml-8 mr-8 flex flex-col justify-between h-52 pt-3">
                    <div class="flex justify-between bg-indigo-800 h-10 items-center rounded-lg">
                        <p><i class="fa-solid fa-minus"></i> <span>today</span></p>
                        <p class="bg-slate-300 rounded-[20px] w-12 text-center">12</p>
                    </div>
        
                    <div class="flex justify-between bg-indigo-800 h-10 items-center rounded-lg">
                        <p><i class="fa-solid fa-grip-lines"></i><span>Upcoming</span></p>
                        <p class="bg-slate-300 rounded-[20px] w-12 text-center">12</p>
                    </div>

                    <div class="flex justify-between bg-indigo-800 h-10 items-center rounded-lg">
                        <p><i class="fa-solid fa-calendar-days"></i> <span>Calender</span></p>
                        <p class="bg-slate-300 rounded-[20px] w-12 text-center">12</p>    
                    </div>
                </div>
             </div>
             <div class=" bottom mt-16">
                <h2 class="text-lg pl-3 mb-5">Lists</h2>
                <div class="bg-slate-50 flex flex-col h-48 justify-around mr-8 ml-8 rounded-[20px]">
                    <div class="flex justify-between mr-3">
                        <p class="bg-red-600 w-14 rounded-[20px] ml-3 text-center">P1</p>
                        <p class="bg-slate-300 rounded-[20px] w-12 text-center">12</p>
                    </div>
                    <div class="flex justify-between mr-3">
                        <p class="bg-orange-600 w-14 rounded-[20px] ml-3 text-center">P2</p>
                        <p class="bg-slate-300 rounded-[20px] w-12 text-center">12</p>
                    </div>
                    <div class="flex justify-between mr-3">
                        <p class="bg-green-600 w-14 rounded-[20px] ml-3 text-center">P3</p>
                        <p class="bg-slate-300 rounded-[20px] w-12 text-center">12</p>    
                    </div>
                    <div class="bg-slate-600 text-center mr-14 ml-14 h-12 flex justify-around items-center rounded-[20px]">
                        <button id="openFormButton" type="button" class="text-lg hover:bg-slate-600" onclick="toggleForm()"> <i class="fa-solid fa-plus"></i> add a list</button>
                    </div>
                </div>
             </div>
        </div>
        <div class="bg-slate-500">
            <div class="grid grid-cols-3 mt-8 gap-4">
                <div class="bg-white h-[500px] scrollbar-hidden overflow-y-scroll">
                    <div class="text-center">
                        <h3>To Do</h3>
                    </div>
                    <div id="taskContainerToDo" class="flex flex-col"></div>
                </div>
                <div class="bg-white h-[500px] scrollbar-hidden overflow-y-scroll">
                    <div class="text-center">
                        <h3>Doing</h3>
                    </div>
                    <div id="taskContainerDoing" class="flex flex-col"></div>
                </div>
                <div class="bg-white h-[500px] scrollbar-hidden overflow-y-scroll">
                    <div class="text-center">
                        <h3>Done</h3>
                    </div>
                    <div id="taskContainerDone" class="flex flex-col"></div>
                </div>
            </div>     
        </div>
         <div id="error">this place is required</div>
        <!-- The Form -->
        <div id="myform" class="hidden absolute top-[50%] left-[50%] transform -translate-x-1/2 -translate-y-1/2 z-10 w-[500px] max-w-[80%] bg-neutral-950 rounded-[20px] h-[800px] items-center">
            <form id="taskForm" class="max-w-sm mx-auto" onsubmit="addTask(event)">
                <div class="text-white font-bold text-center text-lg">
                    <h2>Add a New Task</h2>
                </div>
                <div>
                    <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Title</label>
                    <input type="text" id="taskTitle" class="block w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 text-xs focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" required>
                </div>
                
                <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Status</label>
                <select id="taskStatus" class="block w-full p-2 mb-6 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" required>
                    <option selected disabled>Choose a status</option>
                    <option value="To Do">To Do</option>
                    <option value="Doing">Doing</option>
                    <option value="Done">Done</option>
                </select>
                
                <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Priority</label>
                <select id="taskPriority" class="block w-full p-2 mb-6 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" required>
                    <option selected disabled>Choose the priority</option>
                    <option value="P1">P1</option>
                    <option value="P2">P2</option>
                    <option value="P3">P3</option>
                </select>
                
                <div><label for="due-date" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Due Date:</label>
                <input type="date" id="due-date" name="due-date" required class="block w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 text-xs focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"></div> 
                
                <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Description</label>
                <textarea id="taskDescription" rows="4" class="block w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 text-xs focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"></textarea>
                
                <button type="submit" class="w-full mt-3 text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300 font-medium text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Add Task</button>
                <button type="button" onclick="toggleForm()" class="w-full mt-3 text-white bg-red-600 rounded-lg hover:bg-red-700 focus:outline-none focus:ring-4 focus:ring-red-300 font-medium text-sm px-5 py-2.5 text-center dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800">Cancel</button>
            </form>
        </div>
    </div>
   </section>

   <script>
   // Function to toggle the visibility of the form
   function toggleForm() {
        const form = document.getElementById('myform');
        form.classList.toggle('hidden');
    }


       // Validation function to check form inputs
       function validateForm() {
        const title = document.getElementById('taskTitle').value;
        const description = document.getElementById('taskDescription').value;
        const dueDate = document.getElementById('due-date').value;
        const priority = document.getElementById('taskPriority').value;
        const status = document.getElementById('taskStatus').value;

        const titleRegex = /^[A-Za-z\s]{1,20}$/;
        let isValid = true;
        let errorMessage = "";

        if (!title.match(titleRegex)) {
            errorMessage += "Title must only contain letters and be 1-20 characters long.\n";
            isValid = false;
        }

        if (description.length < 2 || description.length > 80) {
            errorMessage += "Description must be between 2 and 80 characters.\n";
            isValid = false;
        }

        if (!dueDate) {
            errorMessage += "Please select a due date.\n";
            isValid = false;
        }

        if (!priority) {
            errorMessage += "Please select a priority level.\n";
            isValid = false;
        }

        if (!status) {
            errorMessage += "Please select a status.\n";
            isValid = false;
        }

        if (!isValid) {
            alert(errorMessage);
        }

        return isValid;
    }

    function addTask(event) {
        event.preventDefault();

        if (!validateForm()) {
            return;
        }








           // Get form values
           const title = document.getElementById('taskTitle').value;
           const priority = document.getElementById('taskPriority').value;
           const description = document.getElementById('taskDescription').value;
           const dueDate = document.getElementById('due-date').value;
           const status = document.getElementById('taskStatus').value; // Get selected status

           // Create a new card element
           const card = createCard(title, priority, description, dueDate);

           // Append the card to the appropriate container based on the selected status
           if (status === "To Do") {
               document.getElementById('taskContainerToDo').appendChild(card);
           } else if (status === "Doing") {
               document.getElementById('taskContainerDoing').appendChild(card);
           } else if (status === "Done") {
               document.getElementById('taskContainerDone').appendChild(card);
           }

           // Clear form fields and hide the form
           document.getElementById('taskForm').reset();
           toggleForm();
       }

       // Function to create a task card
       function createCard(title, priority, description, dueDate) {
           const card = document.createElement('div');
           card.className = 'bg-slate-700 w-64 h-40 flex flex-col justify-between rounded-3xl mb-4 p-4';

           card.innerHTML = `
               <div class="flex justify-between">
                   <h3 class="text-white font-bold">${title}</h3>
                   <span class="text-yellow-300">${priority}</span> <!-- Displaying priority -->
               </div>
               <div class="text-gray-200"><p>${description}</p></div>
               <span class="text-gray-400">Due: ${dueDate}</span> <!-- Displaying due date -->
           `;

           return card; // Return the created card element
       }
       
            
       




   </script>
</body>
</html>
